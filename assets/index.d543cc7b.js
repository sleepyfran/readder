import{x as t,y as e,A as n,e as r,d as o,T as s,o as i}from"./vendor.c3d1f538.js";function u(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function c(t){(function(t){return null!=t&&"function"==typeof t.Dispose})(t)&&t.Dispose()}function l(t,e){var n,r;return(null===(n=Object.getPrototypeOf(t))||void 0===n?void 0:n.constructor)===(null===(r=Object.getPrototypeOf(e))||void 0===r?void 0:r.constructor)}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),"use-credentials"===t.crossorigin?e.credentials="include":"anonymous"===t.crossorigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();class a{constructor(t){this.iter=t}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function f(t){return"function"==typeof t.GetEnumerator?t.GetEnumerator():new a(t[Symbol.iterator]())}function h(t){return{[Symbol.iterator](){return this},next(){const e=t["System.Collections.IEnumerator.MoveNext"]();return{done:!e,value:e?t["System.Collections.IEnumerator.get_Current"]():void 0}}}}function d(t,e){let n=t.toString(10);for(;n.length<e;)n="0"+n;return n}function g(t){const e=t;return"number"==typeof e.offset?e.offset:1===t.kind?0:-6e4*t.getTimezoneOffset()}class m{static id(t){return m.idMap.has(t)||m.idMap.set(t,++m.count),m.idMap.get(t)}}function p(t){return 2654435761*t|0}function w(t){return 0===t.length?0:t.reduce(((t,e)=>(t<<5)+t^e))}function y(t){var e;if(null==t)return 0;switch(typeof t){case"boolean":return t?1:0;case"number":return p(t);case"string":return function(t){let e=0,n=5381;const r=t.length;for(;e<r;)n=33*n^t.charCodeAt(e++);return n}(t);default:if(function(t){return"function"==typeof t.GetHashCode}(t))return t.GetHashCode();if(u(t))return function(t){const e=t.length,n=new Array(e);for(let r=0;r<e;r++)n[r]=y(t[r]);return w(n)}(t);if(t instanceof Date)return function(t){return t.getTime()}(t);if((null===(e=Object.getPrototypeOf(t))||void 0===e?void 0:e.constructor)===Object){return w(Object.values(t).map((t=>y(t))))}return p(m.id(t))}}function b(t,e){return function(t,e,n){if(null==t)return null==e;if(null==e)return!1;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}(t,e,v)}function v(t,e){var n;return t===e||(null==t?null==e:null!=e&&("object"==typeof t&&(function(t){return"function"==typeof t.Equals}(t)?t.Equals(e):u(t)?u(e)&&b(t,e):t instanceof Date?e instanceof Date&&0===S(t,e):(null===(n=Object.getPrototypeOf(t))||void 0===n?void 0:n.constructor)===Object&&function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!v(t[n[o]],e[r[o]]))return!1;return!0}(t,e))))}function S(t,e){let n,r;return"offset"in t&&"offset"in e?(n=t.getTime(),r=e.getTime()):(n=t.getTime()+g(t),r=e.getTime()+g(e)),n===r?0:n<r?-1:1}function C(t,e){return t===e?0:t<e?-1:1}function x(t,e){return function(t,e,n){if(null==t)return null==e?0:1;if(null==e)return-1;if(t.length!==e.length)return t.length<e.length?-1:1;for(let r=0,o=0;r<t.length;r++)if(o=n(t[r],e[r]),0!==o)return o;return 0}(t,e,E)}function E(t,e){var n;return t===e?0:null==t?null==e?0:-1:null==e?1:"object"!=typeof t?t<e?-1:1:function(t){return"function"==typeof t.CompareTo}(t)?t.CompareTo(e):u(t)?u(e)?x(t,e):-1:t instanceof Date?e instanceof Date?S(t,e):-1:(null===(n=Object.getPrototypeOf(t))||void 0===n?void 0:n.constructor)===Object?function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,s=0;o<n.length;o++){const i=n[o];if(i!==r[o])return i<r[o]?-1:1;if(s=E(t[i],e[i]),0!==s)return s}return 0}(t,e):-1}function I(t,e,n){return t(e,n)>0?e:n}m.idMap=new WeakMap,m.count=0;const k=Symbol("curried");function _(t,e){if(null==e||e.length>1)return e;const n=(...n)=>{let r=e;for(let e=0;e<t;e++)r=r(n[e]);return r};return n[k]=e,n}function M(t,e,n){return r=>1===e?n(...t.concat([r])):M(t.concat([r]),e-1,n)}function T(t,e){return null==e||1===e.length?e:k in e?e[k]:M([],t,e)}function O(t,e,n){if(null!=e){if(k in e){e=e[k];for(let t=0;t<n.length;t++)e=e(n[t]);return e}return M(n,t,e)}}function N(t,e=0){var n,r;if(null!=t&&"object"==typeof t){if("function"==typeof t.toString)return t.toString();if(Symbol.iterator in t)return function(t){let e=0,n="[";for(const r of t){if(0===e)n+=N(r);else{if(100===e){n+="; ...";break}n+="; "+N(r)}e++}return n+"]"}(t);{const o=null===(n=Object.getPrototypeOf(t))||void 0===n?void 0:n.constructor;return o===Object&&e<10?"{ "+Object.entries(t).map((([t,n])=>t+" = "+N(n,e+1))).join("\n  ")+" }":null!==(r=null==o?void 0:o.name)&&void 0!==r?r:""}}return String(t)}class P{get name(){return this.cases()[this.tag]}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}toString(){return function(t,e){if(0===e.length)return t;{let n="",r=!0;return 1===e.length?(n=N(e[0]),r=n.indexOf(" ")>=0):n=e.map((t=>N(t))).join(", "),t+(r?" (":" ")+n+(r?")":"")}}(this.name,this.fields)}GetHashCode(){const t=this.fields.map((t=>y(t)));return t.splice(0,0,p(this.tag)),w(t)}Equals(t){return this===t||!!l(this,t)&&(this.tag===t.tag&&b(this.fields,t.fields))}CompareTo(t){return this===t?0:l(this,t)?this.tag===t.tag?x(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}class R{toJSON(){return function(t){const e={},n=Object.keys(t);for(let r=0;r<n.length;r++)e[n[r]]=t[n[r]];return e}(this)}toString(){return t=this,"{ "+Object.entries(t).map((([t,e])=>t+" = "+N(e))).join("\n  ")+" }";var t}GetHashCode(){return t=this,w(Object.values(t).map((t=>y(t))));var t}Equals(t){return function(t,e){if(t===e)return!0;if(l(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++)if(!v(t[n[r]],e[n[r]]))return!1;return!0}return!1}(this,t)}CompareTo(t){return function(t,e){if(t===e)return 0;if(l(t,e)){const n=Object.keys(t);for(let r=0;r<n.length;r++){const o=E(t[n[r]],e[n[r]]);if(0!==o)return o}return 0}return-1}(this,t)}}class D{constructor(t,e){"function"==typeof e?(this.getter=t,this.setter=e):(this.getter=()=>t,this.setter=e=>{t=e})}get contents(){return this.getter()}set contents(t){this.setter(t)}}function A(t){return(e=t)instanceof class{constructor(t){this.message=t}}||e instanceof Error?t:new Error(String(t));var e}const G=Symbol("numeric");function $(t){return"number"==typeof t||(null==t?void 0:t[G])}function j(t,e){return"number"==typeof t?t*e:t[G]().multiply(e)}function H(t,e){return"number"==typeof t?t.toFixed(e):t[G]().toFixed(e)}function U(t,e){return"number"==typeof t?t.toPrecision(e):t[G]().toPrecision(e)}function L(t,e){return"number"==typeof t?t.toExponential(e):t[G]().toExponential(e)}function q(t){return"number"==typeof t?(Number(t)>>>0).toString(16):t[G]().toHex()}var F={GetHashCode(){return w([this.s,this.e].concat(this.c))},Equals(t){return!this.cmp(t)},CompareTo(t){return this.cmp(t)},[G](){const t=this;return{multiply:e=>t.mul(e),toPrecision:e=>t.toPrecision(e),toExponential:e=>t.toExponential(e),toFixed:e=>t.toFixed(e),toHex:()=>(Number(t)>>>0).toString(16)}}},B="[big.js] ",z=B+"Invalid ",W=z+"decimal places",J=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function X(t,e,n,r){var o=t.c;if(undefined===n&&(n=V.RM),0!==n&&1!==n&&2!==n&&3!==n)throw Error("[big.js] Invalid rounding mode");if(e<1)r=3===n&&(r||!!o[0])||0===e&&(1===n&&o[0]>=5||2===n&&(o[0]>5||5===o[0]&&(r||undefined!==o[1]))),o.length=1,r?(t.e=t.e-e+1,o[0]=1):o[0]=t.e=0;else if(e<o.length){const s=o.findIndex(((t,n)=>n>=e&&t>0))<0;if(r=1===n&&o[e]>=5||2===n&&(o[e]>5||5===o[e]&&(r||undefined!==o[e+1]||1&o[e-1]))||3===n&&(r||!s),o.length=e--,r)for(;++o[e]>9;)o[e]=0,e--||(++t.e,o.unshift(1));for(e=o.length;!o[--e];)o.pop()}return t}function Z(t,e,n){var r=t.e,o=t.c.join(""),s=o.length;if(e)o=o.charAt(0)+(s>1?"."+o.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)o="0"+o;o="0."+o}else if(r>0)if(++r>s)for(r-=s;r--;)o+="0";else r<s&&(o=o.slice(0,r)+"."+o.slice(r));else s>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&n?"-"+o:o}F.abs=function(){var t=new this.constructor(this);return t.s=1,t},F.cmp=function(t){var e,n=this.constructor,r=new n(this),o=(t=new n(t),r.c),s=t.c,i=r.s,u=t.s,c=r.e,l=t.e;if(!o[0]||!s[0])return o[0]?i:s[0]?-u:0;if(i!=u)return i;if(e=i<0,c!=l)return c>l^e?1:-1;for(u=Math.max(o.length,s.length),i=0;i<u;i++)if((c=i<o.length?o[i]:0)!=(l=i<s.length?s[i]:0))return c>l^e?1:-1;return 0},F.div=function(t){var e=this.constructor,n=new e(this),r=(t=new e(t),n.c),o=t.c,s=n.s==t.s?1:-1,i=e.DP;if(i!==~~i||i<0||i>1e6)throw Error(W);if(!o[0])throw Error("[big.js] Division by zero");if(!r[0])return t.s=s,t.c=[t.e=0],t;var u,c,l,a,f,h=o.slice(),d=u=o.length,g=r.length,m=r.slice(0,u),p=m.length,w=t,y=w.c=[],b=0,v=i+(w.e=n.e-t.e)+1;for(w.s=s,s=v<0?0:v,h.unshift(0);p++<u;)m.push(0);do{for(l=0;l<10;l++){if(u!=(p=m.length))a=u>p?1:-1;else for(f=-1,a=0;++f<u;)if(o[f]!=m[f]){a=o[f]>m[f]?1:-1;break}if(!(a<0))break;for(c=p==u?o:h;p;){if(m[--p]<c[p]){for(f=p;f&&!m[--f];)m[f]=9;--m[f],m[p]+=10}m[p]-=c[p]}for(;!m[0];)m.shift()}y[b++]=a?l:++l,m[0]&&a?m[p]=r[d]||0:m=[r[d]]}while((d++<g||undefined!==m[0])&&s--);return y[0]||1==b||(y.shift(),w.e--,v--),b>v&&X(w,v,e.RM,undefined!==m[0]),w},F.eq=function(t){return 0===this.cmp(t)},F.gt=function(t){return this.cmp(t)>0},F.gte=function(t){return this.cmp(t)>-1},F.lt=function(t){return this.cmp(t)<0},F.lte=function(t){return this.cmp(t)<1},F.minus=F.sub=function(t){var e,n,r,o,s=this.constructor,i=new s(this),u=(t=new s(t),i.s),c=t.s;if(u!=c)return t.s=-c,i.plus(t);var l=i.c.slice(),a=i.e,f=t.c,h=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new s(i):t.s=1,t;if(u=a-h){for((o=u<0)?(u=-u,r=l):(h=a,r=f),r.reverse(),c=u;c--;)r.push(0);r.reverse()}else for(n=((o=l.length<f.length)?l:f).length,u=c=0;c<n;c++)if(l[c]!=f[c]){o=l[c]<f[c];break}if(o&&(r=l,l=f,f=r,t.s=-t.s),(c=(n=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>u;){if(l[--n]<f[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=f[n]}for(;0===l[--c];)l.pop();for(;0===l[0];)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t},F.mod=function(t){var e,n=this.constructor,r=new n(this),o=(t=new n(t),r.s),s=t.s;if(!t.c[0])throw Error("[big.js] Division by zero");return r.s=t.s=1,e=1==t.cmp(r),r.s=o,t.s=s,e?new n(r):(o=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=o,n.RM=s,this.minus(r.times(t)))},F.plus=F.add=function(t){var e,n,r,o=this.constructor,s=new o(this);t=new o(t);if(s.s!=t.s)return t.s=-t.s,s.minus(t);var i=s.e,u=s.c,c=t.e,l=t.c;if(!u[0]||!l[0])return l[0]||(u[0]?t=new o(s):t.s=s.s),t;if(u=u.slice(),e=i-c){for(e>0?(c=i,r=l):(e=-e,r=u),r.reverse();e--;)r.push(0);r.reverse()}for(u.length-l.length<0&&(r=l,l=u,u=r),e=l.length,n=0;e;u[e]%=10)n=(u[--e]=u[e]+l[e]+n)/10|0;for(n&&(u.unshift(n),++c),e=u.length;0===u[--e];)u.pop();return t.c=u,t.e=c,t},F.pow=function(t){var e=this.constructor,n=new e(this),r=new e("1"),o=new e("1"),s=t<0;if(t!==~~t||t<-1e6||t>1e6)throw Error(z+"exponent");for(s&&(t=-t);1&t&&(r=r.times(n)),t>>=1;)n=n.times(n);return s?o.div(r):r},F.prec=function(t,e){if(t!==~~t||t<1||t>1e6)throw Error(z+"precision");return X(new this.constructor(this),t,e)},F.round=function(t,e){if(undefined===t)t=0;else if(t!==~~t||t<-1e6||t>1e6)throw Error(W);return X(new this.constructor(this),t+this.e+1,e)},F.sqrt=function(){var t,e,n,r=this.constructor,o=new r(this),s=o.s,i=o.e,u=new r("0.5");if(!o.c[0])return new r(o);if(s<0)throw Error(B+"No square root");0===(s=Math.sqrt(o+""))||s===1/0?((e=o.c.join("")).length+i&1||(e+="0"),i=((i+1)/2|0)-(i<0||1&i),t=new r(((s=Math.sqrt(e))==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+i)):t=new r(s+""),i=t.e+(r.DP+=4);do{n=t,t=u.times(n.plus(o.div(n)))}while(n.c.slice(0,i).join("")!==t.c.slice(0,i).join(""));return X(t,(r.DP-=4)+t.e+1,r.RM)},F.times=F.mul=function(t){var e,n=this.constructor,r=new n(this),o=(t=new n(t),r.c),s=t.c,i=o.length,u=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!o[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,i<u&&(e=o,o=s,s=e,l=i,i=u,u=l),e=new Array(l=i+u);l--;)e[l]=0;for(c=u;c--;){for(u=0,l=i+c;l>c;)u=e[l]+s[c]*o[l-c-1]+u,e[l--]=u%10,u=u/10|0;e[l]=u}for(u?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t},F.toExponential=function(t,e){var n=this,r=n.c[0];if(undefined!==t){if(t!==~~t||t<0||t>1e6)throw Error(W);for(n=X(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Z(n,!0,!!r)},F.toFixed=function(t,e){var n=this,r=n.c[0];if(undefined!==t){if(t!==~~t||t<0||t>1e6)throw Error(W);for(t=t+(n=X(new n.constructor(n),t+n.e+1,e)).e+1;n.c.length<t;)n.c.push(0)}return Z(n,!1,!!r)},F.toJSON=F.toString=function(){var t=this,e=t.constructor;return Z(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},F.toNumber=function(){var t=Number(Z(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(t.toString()))throw Error(B+"Imprecise conversion");return t},F.toPrecision=function(t,e){var n=this,r=n.constructor,o=n.c[0];if(undefined!==t){if(t!==~~t||t<1||t>1e6)throw Error(z+"precision");for(n=X(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Z(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!o)},F.valueOf=function(){var t=this,e=t.constructor;if(!0===e.strict)throw Error(B+"valueOf disallowed");return Z(t,t.e<=e.NE||t.e>=e.PE,!0)};var Y,K,V=function t(){function e(n){var r=this;if(!(r instanceof e))return undefined===n?t():new e(n);if(n instanceof e)r.s=n.s,r.e=n.e,r.c=n.c.slice(),function(t){if(t.c.length>1&&!t.c[0]){let e=t.c.findIndex((t=>t));t.c=t.c.slice(e),t.e=t.e-e}}(r);else{if("string"!=typeof n){if(!0===e.strict)throw TypeError(z+"number");n=0===n&&1/n<0?"-0":String(n)}!function(t,e){var n,r,o;if(!J.test(e))throw Error(z+"number");t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".",""));(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length);for(o=e.length,r=0;r<n&&r<o&&"0"==e.charAt(r);)++r;if(r==o)t.c=[t.e=0];else for(t.e=n-r-1,t.c=[],n=0;r<o;)t.c[n++]=+e.charAt(r++);t=X(t,V.DP+1,V.RM)}(r,n)}r.constructor=e}return e.prototype=F,e.DP=28,e.RM=1,e.NE=-29,e.PE=29,e.strict=false,e}();function Q(t,e){switch(e){case 8:return t?[0,255]:[-128,127];case 16:return t?[0,65535]:[-32768,32767];case 32:return t?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function tt(t,e,n){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(t.replace(/_/g,""));if(null!=r){const[,,t,o]=r;if(!function(t){switch(t){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n=n||function(t,e){if(e&Y.AllowHexSpecifier)return 16;switch(t){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(t,e)).test(o))return function(t,e){const[,n,r,o]=t;return{sign:n||"",prefix:r||"",digits:o,radix:e}}(r,n)}return null}function et(t,e,n,r,o){try{return o.contents=function(t,e,n,r,o){const s=tt(t,e,o);if(null!=s){let t=Number.parseInt(s.sign+s.digits,s.radix);if(!Number.isNaN(t)){const[e,o]=Q(!0,r);!n&&10!==s.radix&&t>=e&&t<=o&&(t=t<<32-r>>32-r);const[i,u]=Q(n,r);if(t>=i&&t<=u)return t}}throw new Error("Input string was not in a correct format.")}(t,e,n,r),!0}catch(s){return!1}}new V(0),new V(1),new V(-1),new V("79228162514264337593543950335"),new V("-79228162514264337593543950335"),(K=Y||(Y={}))[K.AllowHexSpecifier=512]="AllowHexSpecifier";var nt=null;try{nt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(Xo){}function rt(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function ot(t){return!0===(t&&t.__isLong__)}rt.prototype.GetHashCode=function(){let t=this.unsigned?1:0;return t=(t<<5)+t^this.high,t=(t<<5)+t^this.low,t},rt.prototype.Equals=function(t){return Nt(this,t)},rt.prototype.CompareTo=function(t){return At(this,t)},rt.prototype.toString=function(t){return _t(this,t)},rt.prototype.toJSON=function(){return _t(this)},rt.prototype[G]=function(){const t=this;return{multiply:e=>Ht(t,e),toPrecision:e=>String(t)+(0).toPrecision(e).substr(1),toExponential:e=>String(t)+(0).toExponential(e).substr(1),toFixed:e=>String(t)+(0).toFixed(e).substr(1),toHex:()=>{return _t(t.unsigned?t:function(t,e,n){return n?function(t,e){return new rt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)}(t,e):function(t,e){return new rt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}(t,e)}((e=t,n?function(t){var e=t.high,n=t.low;return[255&n,n>>>8&255,n>>>16&255,n>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}(e):function(t){var e=t.high,n=t.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,n>>>24,n>>>16&255,n>>>8&255,255&n]}(e)),!0),16);var e,n}}},Object.defineProperty(rt.prototype,"__isLong__",{value:!0});var st={},it={};function ut(t,e){var n,r,o;return e?(o=0<=(t>>>=0)&&t<256)&&(r=it[t])?r:(n=lt(t,(0|t)<0?-1:0,!0),o&&(it[t]=n),n):(o=-128<=(t|=0)&&t<128)&&(r=st[t])?r:(n=lt(t,t<0?-1:0,!1),o&&(st[t]=n),n)}function ct(t,e){if(isNaN(t))return e?yt:wt;if(e){if(t<0)return yt;if(t>=gt)return xt}else{if(t<=-mt)return Et;if(t+1>=mt)return Ct}return t<0?Gt(ct(-t,e)):lt(t%dt|0,t/dt|0,e)}function lt(t,e,n){return new rt(t,e,n)}var at=Math.pow;function ft(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return wt;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r=t.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return Gt(ft(t.substring(1),e,n));for(var o=ct(at(n,8)),s=wt,i=0;i<t.length;i+=8){var u=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+u),n);if(u<8)s=$t(Ht(s,ct(at(n,u))),ct(c));else s=$t(s=Ht(s,o),ct(c))}return s.unsigned=e,s}function ht(t,e){return"number"==typeof t?ct(t,e):"string"==typeof t?ft(t,e):lt(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}var dt=4294967296,gt=dt*dt,mt=gt/2,pt=ut(1<<24),wt=ut(0),yt=ut(0,!0),bt=ut(1),vt=ut(1,!0),St=ut(-1),Ct=lt(-1,2147483647,!1),xt=lt(-1,-1,!0),Et=lt(0,-2147483648,!1);function It(t){return t.unsigned?t.low>>>0:t.low}function kt(t){return t.unsigned?(t.high>>>0)*dt+(t.low>>>0):t.high*dt+(t.low>>>0)}function _t(t,e){if((e=e||10)<2||36<e)throw RangeError("radix");if(Mt(t))return"0";if(Tt(t)){if(Nt(t,Et)){var n=ct(e),r=Ut(t,n),o=jt(Ht(r,n),t);return _t(r,e)+It(o).toString(e)}return"-"+_t(Gt(t),e)}for(var s=ct(at(e,6),t.unsigned),i=t,u="";;){var c=Ut(i,s),l=(It(jt(i,Ht(c,s)))>>>0).toString(e);if(Mt(i=c))return l+u;for(;l.length<6;)l="0"+l;u=""+l+u}}function Mt(t){return 0===t.high&&0===t.low}function Tt(t){return!t.unsigned&&t.high<0}function Ot(t){return 1==(1&t.low)}function Nt(t,e){return ot(e)||(e=ht(e)),(t.unsigned===e.unsigned||t.high>>>31!=1||e.high>>>31!=1)&&(t.high===e.high&&t.low===e.low)}function Pt(t,e){return At(t,e)<0}function Rt(t,e){return At(t,e)>0}function Dt(t,e){return At(t,e)>=0}function At(t,e){if(ot(e)||(e=ht(e)),Nt(t,e))return 0;var n=Tt(t),r=Tt(e);return n&&!r?-1:!n&&r?1:t.unsigned?e.high>>>0>t.high>>>0||e.high===t.high&&e.low>>>0>t.low>>>0?-1:1:Tt(jt(t,e))?-1:1}function Gt(t){return!t.unsigned&&Nt(t,Et)?Et:$t(function(t){return lt(~t.low,~t.high,t.unsigned)}(t),bt)}function $t(t,e){ot(e)||(e=ht(e));var n=t.high>>>16,r=65535&t.high,o=t.low>>>16,s=65535&t.low,i=e.high>>>16,u=65535&e.high,c=e.low>>>16,l=0,a=0,f=0,h=0;return f+=(h+=s+(65535&e.low))>>>16,a+=(f+=o+c)>>>16,l+=(a+=r+u)>>>16,l+=n+i,lt((f&=65535)<<16|(h&=65535),(l&=65535)<<16|(a&=65535),t.unsigned)}function jt(t,e){return ot(e)||(e=ht(e)),$t(t,Gt(e))}function Ht(t,e){if(Mt(t))return t.unsigned?yt:wt;if(ot(e)||(e=ht(e)),nt)return lt(nt.mul(t.low,t.high,e.low,e.high),nt.get_high(),t.unsigned);if(Mt(e))return t.unsigned?yt:wt;if(Nt(t,Et))return Ot(e)?Et:wt;if(Nt(e,Et))return Ot(t)?Et:wt;if(Tt(t))return Tt(e)?Ht(Gt(t),Gt(e)):Gt(Ht(Gt(t),e));if(Tt(e))return Gt(Ht(t,Gt(e)));if(Pt(t,pt)&&Pt(e,pt))return ct(kt(t)*kt(e),t.unsigned);var n=t.high>>>16,r=65535&t.high,o=t.low>>>16,s=65535&t.low,i=e.high>>>16,u=65535&e.high,c=e.low>>>16,l=65535&e.low,a=0,f=0,h=0,d=0;return h+=(d+=s*l)>>>16,f+=(h+=o*l)>>>16,h&=65535,f+=(h+=s*c)>>>16,a+=(f+=r*l)>>>16,f&=65535,a+=(f+=o*c)>>>16,f&=65535,a+=(f+=s*u)>>>16,a+=n*l+r*c+o*u+s*i,lt((h&=65535)<<16|(d&=65535),(a&=65535)<<16|(f&=65535),t.unsigned)}function Ut(t,e){if(ot(e)||(e=ht(e)),Mt(e))throw Error("division by zero");var n,r,o;if(nt)return t.unsigned||-2147483648!==t.high||-1!==e.low||-1!==e.high?lt((t.unsigned?nt.div_u:nt.div_s)(t.low,t.high,e.low,e.high),nt.get_high(),t.unsigned):t;if(Mt(t))return t.unsigned?yt:wt;if(t.unsigned){if(e.unsigned||(e=function(t){return t.unsigned?t:lt(t.low,t.high,!0)}(e)),Rt(e,t))return yt;if(Rt(e,function(t,e){ot(e)&&(e=It(e));if(0===(e&=63))return t;var n=t.high;return e<32?lt(t.low>>>e|n<<32-e,n>>>e,t.unsigned):lt(32===e?n:n>>>e-32,0,t.unsigned)}(t,1)))return vt;o=yt}else{if(Nt(t,Et))return Nt(e,bt)||Nt(e,St)?Et:Nt(e,Et)?bt:Nt(n=function(t,e){ot(e)&&(e=It(e));return 0==(e&=63)?t:e<32?lt(t.low<<e,t.high<<e|t.low>>>32-e,t.unsigned):lt(0,t.low<<e-32,t.unsigned)}(Ut(function(t,e){ot(e)&&(e=It(e));return 0==(e&=63)?t:e<32?lt(t.low>>>e|t.high<<32-e,t.high>>e,t.unsigned):lt(t.high>>e-32,t.high>=0?0:-1,t.unsigned)}(t,1),e),1),wt)?Tt(e)?bt:St:o=$t(n,Ut(r=jt(t,Ht(e,n)),e));if(Nt(e,Et))return t.unsigned?yt:wt;if(Tt(t))return Tt(e)?Ut(Gt(t),Gt(e)):Gt(Ut(Gt(t),e));if(Tt(e))return Gt(Ut(t,Gt(e)));o=wt}for(r=t;Dt(r,e);){n=Math.max(1,Math.floor(kt(r)/kt(e)));for(var s=Math.ceil(Math.log(n)/Math.LN2),i=s<=48?1:at(2,s-48),u=ct(n),c=Ht(u,e);Tt(c)||Rt(c,r);)c=Ht(u=ct(n-=i,t.unsigned),e);Mt(u)&&(u=bt),o=$t(o,u),r=jt(r,c)}return o}const Lt=$t,qt=Ht,Ft=Ut,Bt=function(t,e){return ot(e)||(e=ht(e)),nt?lt((t.unsigned?nt.rem_u:nt.rem_s)(t.low,t.high,e.low,e.high),nt.get_high(),t.unsigned):jt(t,Ht(Ut(t,e),e))},zt=Gt,Wt=function(t,e){return ot(e)||(e=ht(e)),lt(t.low&e.low,t.high&e.high,t.unsigned)},Jt=At,Xt=lt,Zt=It;function Yt(t,e,n){let r=t,o=0;switch(n){case 0:r=t<<24>>24,o=r;break;case 4:r=t<<24>>>24;break;case 1:r=t<<16>>16,o=r;break;case 5:r=t<<16>>>16;break;case 2:r=t>>0,o=r;break;case 6:r=t>>>0}return lt(r,o>>31,e)}function Kt(t){const e=t<0,n=(t=Math.abs(t))%36e5/6e4;return(e?"-":"+")+d(~~(t/36e5),2)+":"+d(n,2)}function Vt(t,e){const n=t.toISOString();return"first"===e?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Qt(t,e,n){return e.replace(/(\w)\1*/g,(e=>{let r=Number.NaN;switch(e.substring(0,1)){case"y":const o=n?t.getUTCFullYear():t.getFullYear();r=e.length<4?o%100:o;break;case"M":r=(n?t.getUTCMonth():t.getMonth())+1;break;case"d":r=n?t.getUTCDate():t.getDate();break;case"H":r=n?t.getUTCHours():t.getHours();break;case"h":const s=n?t.getUTCHours():t.getHours();r=s>12?s%12:s;break;case"m":r=n?t.getUTCMinutes():t.getMinutes();break;case"s":r=n?t.getUTCSeconds():t.getSeconds();break;case"f":r=n?t.getUTCMilliseconds():t.getMilliseconds()}return Number.isNaN(r)?e:r<10&&e.length>1?"0"+r:""+r}))}function te(t,e){var n,r,o;const s=new Date(t.getTime()+(null!==(n=t.offset)&&void 0!==n?n:0));if("string"!=typeof e)return s.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Kt(null!==(r=t.offset)&&void 0!==r?r:0);if(1!==e.length)return Qt(s,e,!0);switch(e){case"D":case"d":return Vt(s,"first");case"T":case"t":return Vt(s,"second");case"O":case"o":return function(t,e){const n=t.toISOString();return n.substring(0,n.length-1)+Kt(e)}(s,null!==(o=t.offset)&&void 0!==o?o:0);default:throw new Error("Unrecognized Date print format")}}function ee(t,e){const n=1===t.kind;if("string"!=typeof e)return n?t.toUTCString():t.toLocaleString();if(1!==e.length)return Qt(t,e,n);switch(e){case"D":case"d":return n?Vt(t,"first"):t.toLocaleDateString();case"T":case"t":return n?Vt(t,"second"):t.toLocaleTimeString();case"O":case"o":return function(t,e){if(e)return t.toISOString();{const e=null==t.kind||2===t.kind;return d(t.getFullYear(),4)+"-"+d(t.getMonth()+1,2)+"-"+d(t.getDate(),2)+"T"+d(t.getHours(),2)+":"+d(t.getMinutes(),2)+":"+d(t.getSeconds(),2)+"."+d(t.getMilliseconds(),3)+(e?Kt(-6e4*t.getTimezoneOffset()):"")}}(t,n);default:throw new Error("Unrecognized Date print format")}}function ne(t,e,n){return null!=t.offset?te(t,e):ee(t,e)}function re(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function oe(t,e,n=0){if(null==e)throw new Error("Input cannot ve null");if(!t.global)throw new Error("Non-global RegExp");t.lastIndex=n;const r=[];let o,s=-1;for(;null!=(o=t.exec(e));)o.index===s?t.lastIndex++:(s=o.index,r.push(o));return r}function se(t,e,n,r,o=0){if("string"==typeof t){const n=t;t=function(t,e=0){if(0!=(-284&e))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=1&e?"i":"",n+=2&e?"m":"",n+=16&e?"s":"",new RegExp(t,n)}(e,null!=r?r:0),e=n,r=void 0}if("function"==typeof n)return r=null==r?-1:r,e.substring(0,o)+e.substring(o).replace(t,(function(){let t=arguments[0];if(r){r--;const e=[],o=arguments.length,s="string"!=typeof arguments[o-1];let i=s?o-3:o-2;for(let t=0;t<i;t++)e.push(arguments[t]);e.index=arguments[i++],e.input=arguments[i++],s&&(e.groups=arguments[i]),t=n(e)}return t}));if(n=n.replace(/\$0/g,(t=>"$&")).replace(/\${([^}]+)}/g,"$<$1>"),null!=r){let s;const i=e.substring(o),u=oe(t,i),c=oe.length>r?(s=u[r-1],i.substring(0,s.index+s[0].length)):i;return e.substring(0,o)+c.replace(t,n)+e.substring(o+c.length)}return e.replace(t,n)}const ie=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,ue=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function ce(t,e){return function(t,e){return"number"==typeof t?t<e?-1:t>e?1:0:t.CompareTo(e)}(t,e)<0}function le(t){return{input:t,cont:(e=t,t=>{ie.lastIndex=0;const n=[],r=[];let o=0,s=ie.exec(e);for(;s;){const t=s.index+(s[1]||"").length;n.push(e.substring(o,t).replace(/%%/g,"%")),r.push(s),o=ie.lastIndex,ie.lastIndex-=1,s=ie.exec(e)}return 0===n.length?t(e.replace(/%%/g,"%")):(n.push(e.substring(o).replace(/%%/g,"%")),he(t,n,r))})};var e}function ae(t){return function(t,e){return"string"==typeof e?t(e):e.cont(t)}((t=>t),t)}function fe(t,e,n,r,o){let s="";if(e=e||"",o=o||"",$(t))switch("x"!==o.toLowerCase()&&(ce(t,0)?(t=j(t,-1),s="-"):e.indexOf(" ")>=0?s=" ":e.indexOf("+")>=0&&(s="+")),r=null==r?null:parseInt(r,10),o){case"f":case"F":t=H(t,r=null!=r?r:6);break;case"g":case"G":t=null!=r?U(t,r):U(t);break;case"e":case"E":t=null!=r?L(t,r):L(t);break;case"x":t=q(t);break;case"X":t=q(t).toUpperCase();break;default:t=String(t)}else t=t instanceof Date?ne(t):N(t);if(n="number"==typeof n?n:parseInt(n,10),isNaN(n))t=s+t;else{const r=e.indexOf("0")>=0,o=e.indexOf("-")>=0,i=o||!r?" ":"0";t="0"===i?s+(t=me(t,n-s.length,i,o)):me(s+t,n,i,o)}return t}function he(t,e,n,r="",o=-1){return(...s)=>{let i=r;const u=e.slice(),c=n.slice();for(const t of s){const[,,e,n,r,s]=c[0];let l=n;if(o>=0)l=o,o=-1;else if("*"===l){if(t<0)throw new Error("Non-negative number required");o=t;continue}i+=u[0],i+=fe(t,e,l,r,s),u.splice(0,1),c.splice(0,1)}return 0===c.length?(i+=u[0],t(i)):he(t,u,c,i,o)}}function de(t,...e){return"object"==typeof t&&e.length>0&&(t=e[0],e.shift()),t.replace(ue,((t,n,r,o,s,i)=>{if(n<0||n>=e.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let u=e[n];if($(u))switch(s=null==s?null:parseInt(s,10),o){case"f":case"F":u=H(u,s=null!=s?s:2);break;case"g":case"G":u=null!=s?U(u,s):U(u);break;case"e":case"E":u=null!=s?L(u,s):L(u);break;case"p":case"P":s=null!=s?s:2,u=H(j(u,100),s)+" %";break;case"d":case"D":u=null!=s?pe(String(u),s,"0"):String(u);break;case"x":case"X":u=null!=s?pe(q(u),s,"0"):q(u),"X"===o&&(u=u.toUpperCase());break;default:if(i){let t="";u=i.replace(/([0#,]+)(\.[0#]+)?/,((e,n,r)=>{ce(u,0)&&(u=j(u,-1),t="-"),r=null==r?"":r.substring(1),u=H(u,Math.max(r.length,0));let[o,s]=u.split(".");s||(s="");o=pe(o,n.replace(/,/g,"").replace(/^#+/,"").length,"0");const i=r.replace(/#+$/,"").length;if(i>s.length?s=function(t,e,n){return me(t,e,n,!0)}(s,i,"0"):i<s.length&&(s=s.substring(0,i)+s.substring(i).replace(/0+$/,"")),n.indexOf(",")>0){const t=o.length%3,e=Math.floor(o.length/3);let n=t>0?o.substr(0,t)+(e>0?",":""):"";for(let r=0;r<e;r++)n+=o.substr(t+3*r,3)+(r<e-1?",":"");o=n}return s.length>0?o+"."+s:o})),u=t+u}}else u=u instanceof Date?ne(u,i||o):N(u);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(u=me(String(u),Math.abs(r)," ",r<0)),u}))}function ge(t,e){return Array.isArray(e)?e.join(t):Array.from(e).join(t)}function me(t,e,n,r){n=n||" ",e-=t.length;for(let o=0;o<e;o++)t=r?t+n:n+t;return t}function pe(t,e,n){return me(t,e,n)}function we(t,...e){return{strs:t,args:e}}class ye{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return y(this.value)}Equals(t){return null!=t&&v(this.value,t instanceof ye?t.value:t)}CompareTo(t){return null==t?1:E(this.value,t instanceof ye?t.value:t)}}function be(t){return null==t||t instanceof ye?new ye(t):t}function ve(t){if(null==t)throw new Error("Option has no value");return t instanceof ye?t.value:t}function Se(t,e){return"function"==typeof t?new t(e):new Array(e)}function Ce(t,e,n,r){const o=0|e;return t.fill(r,o,o+n)}function xe(t,e,n){const r=0|e.length,o=Se(n,r);for(let s=0;s<=r-1;s++)o[s]=t(e[s]);return o}function Ee(t,e,n){if(t<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=Se(n,t);for(let o=0;o<=t-1;o++)r[o]=e(o);return r}class Ie extends R{constructor(t,e){super(),this.head=t,this.tail=e}toString(){return"["+ge("; ",this)+"]"}Equals(t){const e=this;if(e===t)return!0;return((t,e)=>{t:for(;;){const n=t,r=e,o=[n.tail,r.tail];if(null!=o[0]){if(null!=o[1]){const s=o[0],i=o[1];if(v(n.head,r.head)){t=s,e=i;continue t}return!1}return!1}return null==o[1]}})(e,t)}GetHashCode(){return 0|((t,e,n)=>{for(;;){const r=t,o=e,s=n,i=s.tail;if(null==i)return 0|o;{const u=i;if(r>18)return 0|o;t=r+1,e=(o<<1)+y(s.head)+631*r,n=u}}})(0,0,this)}toJSON(t){return Array.from(this)}CompareTo(t){return 0|((t,e)=>{t:for(;;){const n=t,r=e,o=[n.tail,r.tail];if(null!=o[0]){if(null!=o[1]){const s=o[0],i=o[1],u=0|E(n.head,r.head);if(0===u){t=s,e=i;continue t}return 0|u}return 1}return null!=o[1]?-1:0}})(this,t)}GetEnumerator(){return function(t){return new ke(t)}(this)}[Symbol.iterator](){return h(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return f(this)}}class ke{constructor(t){this.xs=t,this.it=this.xs,this.current=null}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,e=t.it.tail;if(null!=e){const n=e;return t.current=t.it.head,t.it=n,!0}return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=null}Dispose(){}}function _e(){return new Ie(null,void 0)}function Me(t,e){return new Ie(t,e)}function Te(t){return null==t.tail}function Oe(t){return 0|((t,e)=>{for(;;){const n=t,r=e.tail;if(null==r)return 0|n;t=n+1,e=r}})(0,t)}function Ne(t){if(null!=t.tail)return t.head;throw new Error("Collection was empty.\\nParameter name: list")}function Pe(t){const e=t.tail;if(null!=e)return e;throw new Error("Collection was empty.\\nParameter name: list")}function Re(){return _e()}function De(t,e){return Me(t,e)}function Ae(t){return Me(t,_e())}function Ge(t){return Te(t)}function $e(t){return Oe(t)}function je(t){return Ne(t)}function He(t){return Pe(t)}function Ue(t,e,n){let r=e,o=n;for(;!Te(o);)r=t(r,Ne(o)),o=Pe(o);return r}function Le(t,e){Ue(((e,n)=>{t(n)}),void 0,e)}function qe(t,e){let n=e;for(let r=t.length-1;r>=0;r--)n=Me(t[r],n);return n}function Fe(t){return qe(t,_e())}function Be(t,e){const n=_e(),r=function(t,e,n){return((e,n,r)=>{for(;;){const o=e,s=n,i=r;if(Te(i))return s;e=o+1,n=t(o,s,Ne(i)),r=Pe(i)}})(0,e,n)}(((e,n,r)=>{const o=new Ie(t(e,r),void 0);return n.tail=o,o}),n,e),o=_e();return r.tail=o,Pe(n)}function ze(t,e){return((e,n)=>{for(;;){const r=e,o=n;if(Te(o))return;if(r===t)return be(Ne(o));e=r+1,n=Pe(o)}})(0,e)}function We(t,e){const n=_e(),r=Ue(((e,n)=>{if(t(n)){const t=new Ie(n,void 0);return e.tail=t,t}return e}),n,e),o=_e();return r.tail=o,Pe(n)}class Je extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Je.prototype)}}class Xe{constructor(){this.callCount=0}static get maxTrampolineCallCount(){return 2e3}incrementAndCheck(){return this.callCount++>Xe.maxTrampolineCallCount}hijack(t){this.callCount=0,setTimeout(t,0)}}function Ze(t){return e=>{if(e.cancelToken.isCancelled)e.onCancel(new Je);else if(e.trampoline.incrementAndCheck())e.trampoline.hijack((()=>{try{t(e)}catch(n){e.onError(A(n))}}));else try{t(e)}catch(n){e.onError(A(n))}}}const Ye=new class{Bind(t,e){return function(t,e){return Ze((n=>{t({onSuccess:t=>{try{e(t)(n)}catch(r){n.onError(A(r))}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})}))}(t,e)}Combine(t,e){return this.Bind(t,(()=>e))}Delay(t){return Ze((e=>t()(e)))}For(t,e){const n=t[Symbol.iterator]();let r=n.next();return this.While((()=>!r.done),this.Delay((()=>{const t=e(r.value);return r=n.next(),t})))}Return(t){return function(t){return Ze((e=>e.onSuccess(t)))}(t)}ReturnFrom(t){return t}TryFinally(t,e){return Ze((n=>{t({onSuccess:t=>{e(),n.onSuccess(t)},onError:t=>{e(),n.onError(t)},onCancel:t=>{e(),n.onCancel(t)},cancelToken:n.cancelToken,trampoline:n.trampoline})}))}TryWith(t,e){return Ze((n=>{t({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:t=>{try{e(t)(n)}catch(r){n.onError(A(r))}}})}))}Using(t,e){return this.TryFinally(e(t),(()=>t.Dispose()))}While(t,e){return t()?this.Bind(e,(()=>this.While(t,e))):this.Return(void 0)}Zero(){return Ze((t=>t.onSuccess(void 0)))}};class Ke extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["Ok","Error"]}}function Ve(t){}const Qe=new class{constructor(t=!1){this._id=0,this._cancelled=t,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,t]of this._listeners)t()}}addListener(t){const e=this._id;return this._listeners.set(this._id++,t),e}removeListener(t){return this._listeners.delete(t)}register(t,e){const n=this,r=this.addListener(null==e?t:()=>t(e));return{Dispose(){n.removeListener(r)}}}Dispose(){}};function tn(t,e){return function(t,e,n,r,o){"function"!=typeof e&&(o=e,e=void 0);const s=new Xe;t({onSuccess:e||Ve,onError:n||Ve,onCancel:r||Ve,cancelToken:o||Qe,trampoline:s})}(t,e)}function en(t,e,n){Le((n=>{try{n(e)}catch(r){t(r)}}),n)}function nn(){return Re()}function rn(t,e){return function(t,e){const n=_e(),r=Ue(((e,n)=>{const r=new Ie(t(n),void 0);return e.tail=r,r}),n,e),o=_e();return r.tail=o,Pe(n)}((e=>n=>{e((e=>{n(t(e))}))}),e)}function on(t){return function(t){const e=_e();let n=e;const r=t=>{n=Ue(((t,e)=>{const n=new Ie(e,void 0);return t.tail=n,n}),n,t)};if(u(t))t.forEach(r);else if(t instanceof Ie)Le(r,t);else{const e=f(t);try{for(;e["System.Collections.IEnumerator.MoveNext"]();)r(e["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{c(e)}}const o=n,s=_e();return o.tail=s,Pe(e)}(t)}function sn(t){return Ae((e=>{e(t)}))}function un(){return t=E,{Compare:(e,n)=>t(e,n)};var t}function cn(){throw new Error("Enumeration has not started. Call MoveNext.")}function ln(){throw new Error("Enumeration already finished.")}class an{constructor(t){this.f=t}toString(){let t=0,e="seq [";const n=f(this);try{for(;t<4&&n["System.Collections.IEnumerator.MoveNext"]();)t>0&&(e+="; "),e+=N(n["System.Collections.Generic.IEnumerator`1.get_Current"]()),t=t+1|0;return 4===t&&(e+="; ..."),e+"]"}finally{c(n)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return h(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}class fn{constructor(t,e,n){this.current=t,this.next=e,this.dispose=n}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){!function(){throw new Error("Reset is not supported on this enumerator.")}()}Dispose(){this.dispose()}}function hn(t,e,n){return new fn(t,e,n)}function dn(t,e,n){let r,o=!1,s=be(t());const i=()=>{if(null!=s){const t=ve(s);try{n(t)}finally{s=void 0}}},u=()=>{try{i()}finally{r=void 0}};return hn((()=>(o||cn(),null!=r?ve(r):ln())),(()=>{if(o||(o=!0),null!=s){const n=ve(s);let o;try{o=e(n)}catch(t){throw u(),t}return null!=o?(r=o,!0):(u(),!1)}return!1}),i)}function gn(t,e){null==e&&function(t){throw new Error(t)}(t)}function mn(t){return function(t){return new an(t)}(t)}function pn(t){return gn("source",t),f(t)}function wn(t){return mn((()=>f(t())))}function yn(t){return mn((()=>function(t){let e,n,r,o=!1,s=!1;const i=()=>{if(s=!0,null!=n){const t=n;try{c(t)}finally{n=void 0}}if(null!=e){const t=e;try{c(t)}finally{e=void 0}}};return hn((()=>(o?s&&ln():cn(),null!=r?ve(r):ln())),(()=>{let u;if(o||(o=!0),s)return!1;{let o;for(;null==o;){const s=[e,n];if(null!=s[0])if(null!=s[1]){const t=s[1];if(t["System.Collections.IEnumerator.MoveNext"]())r=be(t["System.Collections.Generic.IEnumerator`1.get_Current"]()),o=!0;else try{c(t)}finally{n=void 0}}else{const t=s[0];t["System.Collections.IEnumerator.MoveNext"]()?(u=t["System.Collections.Generic.IEnumerator`1.get_Current"](),n=f(u)):(i(),o=!1)}else e=f(t)}return ve(o)}}),(()=>{s||i()}))}(t)))}function bn(t,e){return mn((()=>function(t,e){let n,r=e;return hn((()=>{if(null!=n){const t=n[0];return n[1],t}return cn()}),(()=>{if(n=t(r),null!=n){n[0];const t=n[1];return r=t,!0}return!1}),(()=>{}))}(t,e)))}function vn(t){return wn((()=>function(t,e){const n=Se(e,1);return n[0]=t,n}(t)))}function Sn(t,e,n){return mn((()=>dn(t,e,n)))}function Cn(t,e){return yn([t,e])}function xn(t,e){!function(t,e,n){const r=pn(n);try{let n=e;for(;r["System.Collections.IEnumerator.MoveNext"]();)n=t(n,r["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{c(r)}}(((e,n)=>{t(n)}),void 0,e)}function En(t,e){return Sn((()=>pn(e)),(e=>e["System.Collections.IEnumerator.MoveNext"]()?be(t(e["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0),(t=>{c(t)}))}function In(t,e){return mn((()=>{const n=pn(e);try{for(let e=1;e<=t;e++)if(!n["System.Collections.IEnumerator.MoveNext"]())throw new Error("The input sequence has an insufficient number of elements.\\nParameter name: source");return function(t,e){return hn((()=>e["System.Collections.Generic.IEnumerator`1.get_Current"]()),(()=>e["System.Collections.IEnumerator.MoveNext"]()),(()=>{try{c(e)}finally{t()}}))}((()=>{}),n)}catch(r){throw c(n),r}}))}function kn(t,e){return n=()=>pn(e),r=(e,n)=>{if(e<t){if(n["System.Collections.IEnumerator.MoveNext"]())return be(n["System.Collections.Generic.IEnumerator`1.get_Current"]());throw new Error("The input sequence has an insufficient number of elements.\\nParameter name: source")}},o=t=>{c(t)},mn((()=>{let t=-1;return dn(n,(e=>(t=t+1|0,r(t,e))),o)}));var n,r,o}class _n extends R{constructor(t,e){super(),this.bound=0|t,this.digits=e}}function Mn(t,e){for(;;){const n=t,r=e;if(0===r)return 1;if(r%2!=0)return n*Mn(n*n,~~(r/2))|0;t=n*n,e=~~(r/2)}}Xt(2013265921,0,!1),Xt(2013265921,0,!0);function Tn(t){return t.bound}function On(t,e){return t.digits[e]}function Nn(t,e){return Yt(On(t,e),!1,2)}function Pn(t,e,n){t.digits[e]=0|n}function Rn(t,e){for(;;){const n=t,r=e;if(0===r)return Xt(1,0,!1);if(r%2!=0)return qt(n,Rn(qt(n,n),~~(r/2)));t=qt(n,n),e=~~(r/2)}}function Dn(t,e){for(;;){const n=t,r=e;if(0===r)return 1;if(r%2!=0)return n*Dn(n*n,~~(r/2))|0;t=n*n,e=~~(r/2)}}Ee(28,(t=>Mn(2,t)),Int32Array);const An=Xt(16777216,0,!1),Gn=Xt(16777215,0,!1);function $n(t){return new _n(t,new Int32Array(t))}function jn(t){const e=0|((t,e)=>{for(;;){const n=t,r=e;if(-1===r||0!==n[r])return r+1|0;t=n,e=r-1}})(t.digits,t.bound-1);return t.bound=0|e,t}Xt(16777215,0,!0);function Hn(t){const e=0|(t<0?0:t);if(e<16777216){const t=$n(1);return t.digits[0]=0|e,jn(t)}{const t=$n(2);for(let n=0;n<=1;n++)t.digits[n]=~~(e/Dn(16777216,n))%16777216|0;return jn(t)}}function Un(t){if(1===t.bound)return 0|t.digits[0];{let e=0;for(let n=t.bound-1;n>=0;n--)e=t.digits[n]+16777216*e|0;return 0|e}}const Ln=Hn(1),qn=Hn(0);function Fn(t){return t.bound-1}function Bn(t){return 0===t.bound}function zn(t,e){if(t.bound===e.bound){return((t,e,n)=>{for(;;){const r=t,o=e,s=n;if(-1===s)return!0;if(r[s]!==o[s])return!1;t=r,e=o,n=s-1}})(t.digits,e.digits,t.bound-1)}return!1}function Wn(t,e){return-1===function(t,e){return t.bound<e.bound?-1:t.bound>e.bound?1:0|((t,e,n)=>{for(;;){const r=t,o=e,s=n;if(-1===s)return 0;if(r[s]!==o[s])return r[s]<o[s]?-1:1;t=r,e=o,n=s-1}})(t.digits,e.digits,t.bound-1)}(t,e)}function Jn(t,e,n){for(;;){const r=t,o=e,s=n;if(!(Jt(o,Xt(0,0,!1))>0))break;{const i=Lt(Nn(r,s),o);Pn(r,s,~~Zt(Wt(i,Gn))),t=r,e=Ft(i,An),n=s+1}}}function Xn(t,e){const n=0|Tn(t),r=$n(n+1),o=Yt(e,!1,2);let s=Xt(0,0,!1);for(let i=0;i<=n-1;i++){const e=Lt(Lt(s,Nn(r,i)),qt(Nn(t,i),o));Pn(r,i,~~Zt(Wt(e,Gn))),s=Ft(e,An)}return Jn(r,s,n),jn(r)}function Zn(t,e){const n=1===Tn(t),r=1===Tn(e);return n&&r?function(t,e){const n=$n(2),r=qt(Yt(t,!1,2),Yt(e,!1,2));return Pn(n,0,~~Zt(Wt(r,Gn))),Pn(n,1,~~Zt(Ft(r,An))),jn(n)}(On(t,0),On(e,0)):n?Xn(e,On(t,0)):r?Xn(t,On(e,0)):function(t,e){const n=$n(t.bound+e.bound),r=n.digits;for(let o=0;o<=t.bound-1;o++){const s=Yt(t.digits[o],!1,2);let i=Xt(0,0,!1),u=o;for(let t=0;t<=e.bound-1;t++){const n=Yt(e.digits[t],!1,2),o=Lt(Lt(Yt(r[u],!1,2),i),qt(s,n));r[u]=0|~~Zt(Wt(o,Gn)),i=Ft(o,An),u=u+1|0}Jn(n,i,u)}return jn(n)}(t,e)}class Yn extends R{constructor(t,e,n,r,o,s,i){super(),this.bigL=0|t,this.twoToBigL=0|e,this.k=0|n,this.bigK=0|r,this.bigN=0|o,this.split=0|s,this.splits=i}}function Kn(t,e,n,r){return new Yn(t,Dn(2,t),e,n,r,~~(24/t),Ee(~~(24/t),(e=>Dn(2,t*e)),Int32Array))}const Vn=[Kn(1,28,268435456,268435456),Kn(2,26,67108864,134217728),Kn(3,24,16777216,50331648),Kn(4,22,4194304,16777216),Kn(5,20,1048576,5242880),Kn(6,18,262144,1572864),Kn(7,16,65536,458752),Kn(8,14,16384,131072),Kn(9,12,4096,36864),Kn(10,10,1024,10240),Kn(11,8,256,2816),Kn(12,6,64,768),Kn(13,4,16,208)];function Qn(t,e,n,r){const o=[t.digits,Fn(t)],s=o[0],i=[n.digits,Fn(n)],u=0|i[1],c=i[0],l=Yt(e,!1,2);let a=0,f=qt(l,Yt(c[0],!1,2));for(;Jt(f,Xt(0,0,!1))>0||a<u;){if(a>o[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let t=~~Zt(Wt(f,Gn)),e=Ft(f,An);t<=s[a+r]?s[a+r]=s[a+r]-t|0:(s[a+r]=s[a+r]+(16777216-t)|0,e=Lt(e,Xt(1,0,!1))),f=a<u?Lt(e,qt(l,Yt(c[a+1],!1,2))):e,a=a+1|0}jn(t)}function tr(t,e,n,r){const o=[t.digits,Fn(t)],s=o[0],i=[n.digits,Fn(n)],u=0|i[1],c=i[0],l=Yt(e,!1,2);let a=0,f=qt(l,Yt(c[0],!1,2));for(;Jt(f,Xt(0,0,!1))>0||a<u;){if(a>o[1])throw new Error("scaleSubInPlace: pre-condition did not apply, result would be -ve");let t=~~Zt(Wt(f,Gn)),e=Ft(f,An);t<16777216-s[a+r]?s[a+r]=s[a+r]+t|0:(s[a+r]=t-(16777216-s[a+r])|0,e=Lt(e,Xt(1,0,!1))),f=a<u?Lt(e,qt(l,Yt(c[a+1],!1,2))):e,a=a+1|0}jn(t)}function er(t,e,n){const r=[Fn(e),Fn(t)],o=0|r[1],s=0|r[0];if(o<s+n)return 0;{const r=[e.digits,t.digits],a=r[1],f=r[0],h=0|(0===s?o===n?~~(a[n]/f[0]):~~Zt(Ft(Lt(qt(Yt(a[o],!1,2),An),Yt(a[o-1],!1,2)),Yt(f[0],!1,2))):o===s+n?~~(a[o]/(f[s]+1)):~~Zt(Ft(Lt(qt(Yt(a[o],!1,2),An),Yt(a[o-1],!1,2)),Lt(Yt(f[s],!1,2),Xt(1,0,!1)))));return 0===h?1!=(u=n,c=t,l=0,(i=e).bound+u<c.bound+l?-1:i.bound+u>c.bound+u?1:0|((t,e,n)=>{t:for(;;){const r=t,o=e,s=n;if(-1===s)return 0;{const i=0|(s<u?0:r[s-u]),c=0|(s<l?0:o[s-l]);if(i===c){t=r,e=o,n=s-1;continue t}return i<c?-1:1}}})(i.digits,c.digits,i.bound+u-1))?1:0:0|h}var i,u,c,l}function nr(t,e){if(Bn(e))throw new Error;if(Fn(t)<Fn(e))return[qn,t];{const n=function(t){return new _n(t.bound,t.digits.slice())}(t),r=$n(Fn(t)-Fn(e)+1+1);let o=Fn(t);const s=0|Fn(e);let i=o-s,u=!1;for(;!u;){const t=0|er(n,e,i);t>0?(Qn(n,t,e,i),tr(r,t,Ln,i)):(u=0===t&&0===i,u||(o===s+i?i=i-1|0:(i=i-1|0,o=o-1|0)))}return[jn(r),jn(n)]}}function rr(t){return Hn(t)}function or(t){return function(t){const e=Jt(t,Xt(0,0,!1))<0?Xt(0,0,!1):t,n=$n(3);for(let r=0;r<=2;r++)n.digits[r]=0|~~Zt(Bt(Ft(e,Rn(An,r)),An));return jn(n)}(t)}function sr(t){const e=0|Fn(t),n=(t,e,r,o)=>{t:for(;;){const u=t,c=e,l=r,a=o;if(Ge(a)){const t=0|Un(l);return u&&0===t?c:De((i=void 0,(s=(s=t)<0&&null!=i&&10!==i?4294967295+s+1:s).toString(i)),c)}{const s=He(a),i=nr(l,je(a)[1]),f=i[1],h=i[0];if(u&&Bn(h)){t=u,e=c,r=f,o=s;continue t}t=u,e=n(!1,c,f,s),r=h,o=s;continue t}}var s,i},r=n(!0,Re(),t,((t,n,r)=>{for(;;){const o=t,s=n,i=r;if(Fn(i)>e)return De([s,i],o);t=De([s,i],o),n=s+1,r=Zn(i,i)}})(Re(),0,Hn(10)));return Ge(r)?"0":ge("",function(t){const e=0|Oe(t),n=Ce(new Array(e),0,e,null);return((t,e)=>{for(;;){const r=t,o=e;if(Te(o))break;n[r]=Ne(o),t=r+1,e=Pe(o)}})(0,t),n}(r))}function ir(t){const e=t;return 0<e.bound?0|e.digits[0]:0}Ee(24,(t=>Dn(2,t)-1),Int32Array),Ee(24,(t=>Dn(2,t)),Int32Array),Ee(24,(t=>Rn(Xt(2,0,!1),t))),Vn[0].bigN,Hn(2);class ur extends R{constructor(t,e){super(),this.signInt=0|t,this.v=e}toString(){const t=this;switch(0|ar(t)){case-1:return Bn(fr(t))?"0":"-"+sr(fr(t));case 0:return"0";case 1:return sr(fr(t));default:throw new Error("signs should be +/- 1 or 0")}}Equals(t){return t instanceof ur&&hr(this,t)}GetHashCode(){return 0|(0===ar(t=this)?1:ar(t)+function(t){let e=0;for(let n=0;n<=t.bound-1;n++)e=t.digits[n]+(e<<3)|0;return 0|e}(fr(t))|0);var t}toJSON(t){return N(this)}CompareTo(t){if(t instanceof ur)return 0|(function(t,e){const n=[ar(t),ar(e)];let r;switch(r=-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9,r){case 0:return Wn(fr(t),fr(e));case 1:return Wn(fr(e),fr(t));case 2:return!1;case 3:return!Bn(fr(t))||!Bn(fr(e));case 4:return!1;case 5:return!Bn(fr(e));case 6:case 7:return!1;case 8:return!Bn(fr(t));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}(e=this,n=t)?-1:hr(e,n)?0:1);throw new Error("the objects are not comparable\\nParameter name: obj");var e,n}}function cr(t,e){return new ur(t,e)}function lr(t){return function(t){return t.bound<=1}(t)&&ir(t)<ur.smallLim?ur.smallPosTab[ir(t)]:t}function ar(t){return t.signInt}function fr(t){return t.v}function hr(t,e){const n=[ar(t),ar(e)];let r;switch(r=-1===n[0]?-1===n[1]?1:0===n[1]?8:1===n[1]?3:9:0===n[0]?-1===n[1]?6:0===n[1]?4:1===n[1]?5:9:1===n[0]?-1===n[1]?2:0===n[1]?7:1===n[1]?0:9:9,r){case 0:case 1:return zn(fr(t),fr(e));case 2:case 3:return!!Bn(fr(t))&&Bn(fr(e));case 4:return!0;case 5:case 6:return Bn(fr(e));case 7:case 8:return Bn(fr(t));case 9:throw new Error("signs should be +/- 1 or 0\\nParameter name: x")}}function dr(t){return t>=0?cr(1,lr(rr(t))):cr(-1,lr(-2147483648===t?or(zt(Yt(t,!1,2))):rr(-2147483648===(e=t)?e:-e)));var e}function gr(t,e,n,r,o){const s=function(t,e,n,r){const o=0|E(t,n);if(0===o)throw new Error("The step of a range cannot be zero");const s=o>0;return n=>{const o=0|E(n,e);return s&&o<=0||!s&&o>=0?[n,r(n,t)]:void 0}}(e,n,r,o);return wn((()=>bn(s,t)))}ur.smallLim=4096,ur.smallPosTab=Ee(ur.smallLim,rr),ur.one=dr(1),ur.two=dr(2),ur.zero=dr(0);class mr extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["Writable","ReadWritable"]}}class pr{constructor(t){this.state=new mr(0,Ce(new Array(I(C,t,10)),0,I(C,t,10),null),0)}}function wr(t){const e=t.state;if(1===e.tag){const n=0|e.fields[1],r=0|e.fields[2],o=e.fields[0],s=(r+1)%o.length|0;return t.state=s===n?new mr(0,o,n):new mr(1,o,n,s),be(o[r])}}function yr(t,e){const n=t.state;if(1===n.tag){const s=0|n.fields[1],i=0|n.fields[2],u=n.fields[0];u[s]=e;const c=(s+1)%u.length|0;t.state=c===i?new mr(1,(r=i,o=u,Array.from(wn((()=>Cn(In(r,o),wn((()=>Cn(kn(r,o),wn((()=>{return t=t=>vn(null),n=0,r=1,s=o.length,e=gr(n,r,s,0,((t,e)=>t+e)),wn((()=>yn(En(t,e))));var t,e,n,r,s})))))))))),u.length,0):new mr(1,u,c,i)}else{const r=0|n.fields[1],o=n.fields[0];o[r]=e;const s=(r+1)%o.length|0;t.state=new mr(1,o,s,r)}var r,o}class br extends R{constructor(t,e,n,r,o,s,i){super(),this.init=t,this.update=e,this.subscribe=n,this.view=r,this.setState=o,this.onError=s,this.syncDispatch=i}}function vr(t,e){const n=e.init(t),r=n[0],o=new pr(10);let s=!1,i=r;const u=O(1,e.syncDispatch,[t=>{if(s)yr(o,t);else{s=!0;let r=be(t);for(;null!=r;){const t=ve(r);try{const n=e.update(t,i),r=n[0];e.setState(r,u),en((n=>{e.onError([ae(le("Error in command while handling: %A"))(t),n])}),u,n[1]),i=r}catch(n){e.onError([ae(le("Unable to process the message: %A"))(t),n])}r=wr(o)}s=!1}}]);e.setState(r,u),en((t=>{e.onError(["Error intitializing:",t])}),u,on(Fe([(()=>{try{return e.subscribe(r)}catch(t){return e.onError(["Unable to subscribe:",t]),nn()}})(),n[1]])))}const Sr=(()=>{const t=e;return e=>function(t,e){return t(e.strs,...e.args)}(t,e)})();function Cr(){return t}function xr(t){return ge(" ",(e=t=>t[1]?t[0]:void 0,n=t,Sn((()=>pn(n)),(t=>{let n;for(;null==n&&t["System.Collections.IEnumerator.MoveNext"]();)n=e(t["System.Collections.Generic.IEnumerator`1.get_Current"]());return n}),(t=>{c(t)}))));var e,n}function Er(t){return t.value}function Ir(t){!function(t,e){setTimeout(e,t)}(0,t)}class kr extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["OnConnected","OnRender"]}}class _r{constructor(t){this.host=t,this._firstRun=!0,this._rendering=!1,this._args=[],this._stateIndex=0,this._effectIndex=0,this._states=[],this._effects=[],this._disposables=[]}fail(){throw new Error("Hooks must be called consistently for each render call")}requestUpdate(){this.host.requestUpdate()}renderWith(t){const e=this;return e._firstRun||!function(t,e,n){if(null==e)return null==n;if(null==n)return!1;{let r=0,o=!0;const s=0|e.length,i=0|n.length;if(s>i)return!1;if(s<i)return!1;for(;r<s&&o;)o=t(e[r],n[r]),r=r+1|0;return o}}(v,t,e._args)?(e._args=t,e.render()):void 0}render(){const t=this;t._stateIndex=0,t._effectIndex=0,t._rendering=!0;const e=t.host.renderFn.apply(t.host,t._args);return t._firstRun||t._stateIndex===t._states.length&&t._effectIndex===t._effects.length||t.fail(),t._rendering=!1,t.host.isConnected&&t.runEffects(t._firstRun,!0),t._firstRun=!1,e}checkRendering(){const t=this;t._rendering||t.fail()}runEffects(t,e){const n=this;Ir((()=>{xn((r=>{0===r.tag?t&&n._disposables.push(r.fields[0]()):e&&r.fields[0]()}),n._effects)}))}setState(t,e,n){let r,o;const s=this;r=e,o=s._states[t],(null==T(2,n)?v(o,r):n(o,r))||(s._states[t]=e,s._rendering?Ir((()=>{s.host.requestUpdate()})):s.host.requestUpdate())}getState(){const t=this;t._stateIndex>=t._states.length&&t.fail();const e=0|t._stateIndex;return t._stateIndex=e+1|0,[e,t._states[e]]}addState(t){return this._states.push(t),[this._states.length-1,t]}disconnect(){let t=f(this._disposables);try{for(;t["System.Collections.IEnumerator.MoveNext"]();)c(t["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{c(t)}var e;u(e=this._disposables)?e.splice(0):e.clear()}useState(t){const e=this;let n;if(e.checkRendering(),e._firstRun){const r=t();n=e.addState(r)}else n=e.getState();return[n[1],t=>{e.setState(n[0],t)}]}useRef(t){let e;const n=this;return n.checkRendering(),n._firstRun?(e=new D(t()),n.addState(e))[1]:n.getState()[1]}setEffect(t){const e=this;if(e.checkRendering(),e._firstRun)e._effects.push(t);else{e._effectIndex>=e._effects.length&&e.fail();const n=0|e._effectIndex;e._effectIndex=n+1|0,e._effects[n]=t}}useEffect(t){this.setEffect(new kr(1,t))}useEffectOnce(t){this.setEffect(new kr(0,t))}}class Mr extends o{constructor(){super(),this._hooks=new _r(this)}requestUpdate(){this.setValue(this._hooks.render())}render(...t){const e=this._hooks.renderWith(t);return null==e?s:e}disconnected(){this._hooks.disconnect()}reconnected(){this._hooks.runEffects(!0,!1)}get hooks(){return this._hooks}}function Tr(t,e){return function(t,e){return new br(e.init,e.update,e.subscribe,e.view,t,e.onError,e.syncDispatch)}(((r,o)=>{!function(t,e){n(e,t)}(t,function(t){return T(2,t.view)}(e)(r)(o))}),e)}class Or extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["Home","Reader"]}}class Nr extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["Reddit"]}}const Pr=Ae(new Nr(0));class Rr extends R{constructor(t,e,n){super(),this.Community=t,this.Subcommunity=e,this.AvailableMinutes=0|n}}class Dr extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["EmptyResponse","NotReachable"]}}class Ar extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["NoResults","RequestError"]}}class Gr extends R{constructor(t,e,n,r,o,s){super(),this.Title=t,this.Community=e,this.Content=n,this.Html=r,this.Url=o,this.CommunityUrl=s}}class $r extends R{constructor(t,e,n,r){super(),this.Input=t,this.SelectedCommunity=e,this.SuggestionsSelectedIndex=0|n,this.Suggestions=r}}class jr extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["OnInput","OnInputFocused","OnInputLeft","OnArrowUp","OnArrowDown","OnEnter","OnBackspace","OnHover","SuggestionsChanged","SuggestionSelected"]}}class Hr extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["GET","POST","PUT","PATCH","DELETE","HEAD","OPTIONS"]}}class Ur extends R{constructor(t,e,n,r,o,s,i,u){super(),this.url=t,this.method=e,this.headers=n,this.withCredentials=r,this.overridenMimeType=o,this.overridenResponseType=s,this.timeout=i,this.content=u}}class Lr extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["Text","Blob","ArrayBuffer","Unknown"]}}class qr extends R{constructor(t,e,n,r,o,s){super(),this.statusCode=0|t,this.responseText=e,this.responseType=n,this.responseUrl=r,this.responseHeaders=o,this.content=s}}class Fr{constructor(t,e){this.k=t,this.v=e}}function Br(t,e){return new Fr(t,e)}function zr(t){return t.k}function Wr(t){return t.v}class Jr extends Fr{constructor(t,e,n,r,o){super(t,e),this.left=n,this.right=r,this.h=0|o}}function Xr(t,e,n,r,o){return new Jr(t,e,n,r,o)}function Zr(t){return t.left}function Yr(t){return t.right}function Kr(t){return t.h}function Vr(t,e){t:for(;;){const n=t,r=e;if(null!=r){const o=r;if(o instanceof Jr){t=Vr(n+1,Zr(o)),e=Yr(o);continue t}return n+1|0}return 0|n}}function Qr(t){return Vr(0,t)}function to(t,e,n,r){let o;if(null!=t){const e=t;o=e instanceof Jr?Kr(e):1}else o=0;let s;if(null!=r){const t=r;s=t instanceof Jr?Kr(t):1}else s=0;const i=0|(o<s?s:o);return 0===i?Br(e,n):Xr(e,n,t,r,i+1)}function eo(t,e,n,r){let o,s,i,u,c;if(null!=t){const e=t;c=e instanceof Jr?Kr(e):1}else c=0;let l;if(null!=r){const t=r;l=t instanceof Jr?Kr(t):1}else l=0;if(l>c+2){const i=ve(r);if(i instanceof Jr){if(o=Zr(i),(null!=o?(s=o,s instanceof Jr?Kr(s):1):0)>c+1){const r=ve(Zr(i));if(r instanceof Jr)return to(to(t,e,n,Zr(r)),zr(r),Wr(r),to(Yr(r),zr(i),Wr(i),Yr(i)));throw new Error("internal error: Map.rebalance")}return to(to(t,e,n,Zr(i)),zr(i),Wr(i),Yr(i))}throw new Error("internal error: Map.rebalance")}if(c>l+2){const o=ve(t);if(o instanceof Jr){if(i=Yr(o),(null!=i?(u=i,u instanceof Jr?Kr(u):1):0)>l+1){const t=ve(Yr(o));if(t instanceof Jr)return to(to(Zr(o),zr(o),Wr(o),Zr(t)),zr(t),Wr(t),to(Yr(t),e,n,r));throw new Error("internal error: Map.rebalance")}return to(Zr(o),zr(o),Wr(o),to(Yr(o),e,n,r))}throw new Error("internal error: Map.rebalance")}return to(t,e,n,r)}function no(t,e,n,r){if(null!=r){const o=r,s=0|t.Compare(e,zr(o));return o instanceof Jr?s<0?eo(no(t,e,n,Zr(o)),zr(o),Wr(o),Yr(o)):0===s?Xr(e,n,Zr(o),Yr(o),Kr(o)):eo(Zr(o),zr(o),Wr(o),no(t,e,n,Yr(o))):s<0?Xr(e,n,void 0,r,2):0===s?Br(e,n):Xr(e,n,r,void 0,2)}return Br(e,n)}function ro(t,e,n){const r=function(t,e,n){t:for(;;){const r=t,o=e,s=n;if(null!=s){const i=s,u=0|r.Compare(o,zr(i));if(0===u)return be(Wr(i));if(i instanceof Jr){t=r,e=o,n=u<0?Zr(i):Yr(i);continue t}return}return}}(t,e,n);if(null==r)throw new Error;return ve(r)}function oo(t,e){t:for(;;){const n=t,r=e;if(null!=r){const o=r;if(o instanceof Jr){oo(n,Zr(o)),n(zr(o),Wr(o)),t=n,e=Yr(o);continue t}n(zr(o),Wr(o))}break}}function so(t,e){oo(t,e)}class io extends R{constructor(t,e){super(),this.stack=t,this.started=e}}function uo(t){t:for(;;){const e=t;if(Ge(e))return Re();{const n=He(e),r=je(e);if(null!=r){const o=r;if(o instanceof Jr){t=qe([Zr(o),Br(zr(o),Wr(o)),Yr(o)],n);continue t}return e}t=n;continue t}}}function co(t){return new io(uo(Ae(t)),!1)}function lo(t){if(t.started){const e=t.stack;if(Ge(e))return function(){throw new Error("enumeration already finished")}();if(null!=je(e)){const t=je(e);if(t instanceof Jr)throw new Error("Please report error: Map iterator, unexpected stack for current");return[zr(t),Wr(t)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}function ao(t){let e=co(t);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>lo(e),"System.Collections.IEnumerator.get_Current":()=>lo(e),"System.Collections.IEnumerator.MoveNext":()=>function(t){if(t.started){const e=t.stack;if(Ge(e))return!1;if(null!=je(e)){if(je(e)instanceof Jr)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return t.stack=uo(He(e)),!Ge(t.stack)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return t.started=!0,!Ge(t.stack)}(e),"System.Collections.IEnumerator.Reset"(){e=co(t)},Dispose(){}}}class fo{constructor(t,e){this.comparer=t,this.tree=e}GetHashCode(){return 0|function(t){const e=(t,e)=>(t<<1)+e+631;let n=0;const r=f(t);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const t=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=0|e(n,y(t[0])),n=0|e(n,y(t[1]))}}finally{c(r)}return 0|n}(this)}Equals(t){if(!(t instanceof fo))return!1;{const e=f(this);try{const n=f(t);try{const t=()=>{const r=e["System.Collections.IEnumerator.MoveNext"]();if(r===n["System.Collections.IEnumerator.MoveNext"]()){if(r){const r=e["System.Collections.Generic.IEnumerator`1.get_Current"](),o=n["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!v(r[0],o[0])||!v(r[1],o[1]))&&t()}return!0}return!1};return t()}finally{c(n)}}finally{c(e)}}}toString(){return"map ["+ge("; ",En((t=>de("({0}, {1})",t[0],t[1])),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(t){return Array.from(this)}GetEnumerator(){return ao(this.tree)}[Symbol.iterator](){return h(this.GetEnumerator())}"System.Collections.IEnumerable.GetEnumerator"(){return ao(this.tree)}CompareTo(t){const e=this;if(t instanceof fo)return 0|function(t,e,n){const r=pn(e);try{const e=pn(n);try{let n=0,o=r["System.Collections.IEnumerator.MoveNext"](),s=e["System.Collections.IEnumerator.MoveNext"]();for(;0===n&&o&&s;)n=0|t(r["System.Collections.Generic.IEnumerator`1.get_Current"](),e["System.Collections.Generic.IEnumerator`1.get_Current"]()),0===n&&(o=r["System.Collections.IEnumerator.MoveNext"](),s=e["System.Collections.IEnumerator.MoveNext"]());return 0|(0!==n?n:o?1:s?-1:0)}finally{c(e)}}finally{c(r)}}(((t,n)=>{const r=0|e.comparer.Compare(t[0],n[0]);return 0|(0!==r?r:E(t[1],n[1]))}),e,t);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){return po(this,t[0])&&v(go(this,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ2E171D71"(t,e){!function(t,e,n){let r=n;so(((t,n)=>{e[r]=[t,n],r=r+1|0}),t)}(this.tree,t,e)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|mo(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|mo(this)}get size(){return 0|mo(this)}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return En((t=>[t[0],t[1]]),this)}get(t){return go(this,t)}has(t){return po(this,t)}keys(){return En((t=>t[0]),this)}set(t,e){throw new Error("Map cannot be mutated")}values(){return En((t=>t[1]),this)}forEach(t,e){const n=this;xn((e=>{t(e[1],e[0],n)}),n)}}function ho(t,e){return new fo(t,e)}function go(t,e){return ro(t.comparer,e,t.tree)}function mo(t){return Qr(t.tree)}function po(t,e){return function(t,e,n){t:for(;;){const r=t,o=e,s=n;if(null!=s){const i=s,u=0|r.Compare(o,zr(i));if(i instanceof Jr){if(u<0){t=r,e=o,n=Zr(i);continue t}if(0===u)return!0;t=r,e=o,n=Yr(i);continue t}return 0===u}return!1}}(t.comparer,e,t.tree)}function wo(t){const e=un();return ho(e,function(t,e){let n;for(let r=0;r<=e.length-1;r++){const o=e[r];n=no(t,o[0],o[1],n)}return n}(e,t))}fo.empty=ho(un(),void 0);const yo=new Ur("",new Hr(0),Re(),!1,void 0,void 0,void 0,new class extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["Empty","Text","Binary","Form"]}}(0));function bo(t,e){return"string"!=typeof(n=e)||0===n.length?[e]:function(t,e,n,r){if(r="number"==typeof r?r:0,(n="number"==typeof n?n:void 0)&&n<0)throw new Error("Count cannot be less than zero");if(0===n)return[];const o=1==(1&r),s=2==(2&r);e=(e=(e=e||[]).filter((t=>t)).map(re)).length>0?e:["\\s"];const i=[],u=new RegExp(e.join("|"),"g");let c=!0,l=0;do{const e=u.exec(t);if(null===e){const e=s?t.substring(l).trim():t.substring(l);(!o||e.length>0)&&i.push(e),c=!1}else{const r=s?t.substring(l,e.index).trim():t.substring(l,e.index);(!o||r.length>0)&&(null!=n&&i.length+1===n?(i.push(s?t.substring(l).trim():t.substring(l)),c=!1):i.push(r)),l=u.lastIndex}}while(c);return i}(e,[t],null,0);var n}function vo(t){return e=e=>{const n=new XMLHttpRequest;n.open(function(t){switch(t.tag){case 1:return"POST";case 3:return"PATCH";case 2:return"PUT";case 4:return"DELETE";case 6:return"OPTIONS";case 5:return"HEAD";default:return"GET"}}(t.method),t.url),n.onreadystatechange=()=>{let t,r,o,s,i,u,c;4===n.readyState&&e[0]((r=n.responseType,t=""===r||"text"===r?n.responseText:"",o=0|n.status,s=n.responseType,u=n.responseType,i=""===u||"text"===u?new Lr(0,n.responseText):new Lr("arraybuffer"===u?2:"blob"===u?1:3,n.response),c=wo(function(t,e,n){const r=[];for(let o=0;o<=e.length-1;o++){const n=t(e[o]);if(null!=n){const t=ve(n);r.push(t)}}return"function"==typeof n?xe((t=>t),r,n):r}((t=>{const e=Fe(bo(":",t));return Ge(e)?void 0:[je(e).toLocaleLowerCase(),ge(":",He(e)).trim()]}),bo("\r\n",n.getAllResponseHeaders()))),new qr(o,t,s,n.responseURL,c,i)))};const r=f(t.headers);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const t=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n.setRequestHeader(t.fields[0],t.fields[1])}}finally{c(r)}n.withCredentials=t.withCredentials;const o=t.overridenMimeType;if(null==o);else{const t=o;n.overrideMimeType(t)}const s=t.overridenResponseType;null==s||(1===s.tag?n.responseType="blob":2===s.tag?n.responseType="arraybuffer":n.responseType="text");const i=t.timeout;if(null==i);else{const t=0|i;n.timeout=0|t}const u=t.content;switch(u.tag){case 1:case 3:case 2:n.send(be(u.fields[0]));break;default:n.send()}},Ze((t=>e([t.onSuccess,t.onError,t.onCancel])));var e}function So(t){return Ye.Delay((()=>{return Ye.Bind(vo((e=new Hr(0),n=function(t){return new Ur(t,yo.method,yo.headers,yo.withCredentials,yo.overridenMimeType,yo.overridenResponseType,yo.timeout,yo.content)}(t),new Ur(n.url,e,n.headers,n.withCredentials,n.overridenMimeType,n.overridenResponseType,n.timeout,n.content))),(t=>{const e=t;return Ye.Return([e.statusCode,e.responseText])}));var e,n}))}new qr(0,"","","",fo.empty,new Lr(0,""));function Co(t){return`https://www.reddit.com/r/${t}`}function xo(t){return Ye.Delay((()=>{return Ye.Bind(So((e=25,`${Co(t)}/hot/.json?limit=${e}`)),(e=>Ye.Return(200===e[0]?function(t,e){const n=JSON.parse(e).data;return 0===n.children.length?new Ke(1,new Dr(0)):new Ke(0,Fe(xe((e=>{const n=e.data;return new Gr(n.title,new Nr(0),n.selftext,n.selftext_html,n.url,Co(t))}),n.children)))}(t,e[1]):new Ke(1,new Dr(1)))));var e}))}function Eo(t,e,n){return n<t?0|t:n>e?0|e:0|n}function Io(t,e){return Ge(t.Suggestions)||null!=t.SelectedCommunity?Cr():Sr(we`
            <div class="absolute bg-slate-400 rounded-xl p-4 mt-1 dark:bg-slate-800 w-full" role="menu">
                <p class="text-gray-200">Suggestions:</p>
                ${Be(((n,r)=>function(t,e,n,r){const o=xr([["group text-2xld text-white hover:bg-slate-800 dark:hover:bg-slate-500 w-full text-start p-2 rounded-md",!0],["bg-slate-800 dark:bg-slate-500",e===n]]);return Sr(we`
        <button
            class=${o}
            @mouseover=${()=>{t(new jr(7,n))}}
            @click=${e=>{t(new jr(9,r))}}>
            <span class="font-bold">${"r/"}</span>
            <span class="font-light">${"reddit"}</span>
        </button>
        `)}(e,t.SuggestionsSelectedIndex,n,r)),t.Suggestions)}
            </div>
            `)}const ko=new $r("",new Nr(0),0,Re());function _o(t){return new $r(t.Input,t.SelectedCommunity,0,Re())}function Mo(t,e){return null==t.SelectedCommunity?sn(new jr(8,""===(n=e)?Pr:We((t=>{const e=n.toLocaleLowerCase();return"reddit".indexOf(e)>=0||"r/".indexOf(e)>=0}),Pr))):nn();var n}const To=(new class extends class{}{constructor(){super()}Decorate(t){return r(class extends Mr{constructor(){super()}get renderFn(){return t}})}}).Decorate((function(t,e){const n=null==t.SelectedCommunity?"Community":"Subcommunity";return Sr(we`
        <div class="relative">
            <div class="w-full border-b-2 border-slate-900 dark:border-white text-2xl">
                ${function(t){return null==t.SelectedCommunity?Cr():Sr(we`
            <div class="inline-block border-2 border-teal-600 rounded-full px-5">
                ${"r/"}
            </div>
            `)}(t)}
                <input
                    class="appearance-none bg-transparent focus:outline-none placeholder-slate-400 py-2 dark:ring-white w-40 md:w-64"
                    type="text"
                    autocorrect="off"
                    autocomplete="off"
                    placeholder=${n}
                    .value=${t.Input}
                    @focus=${t=>{e(new jr(1))}}
                    @blur=${t=>{e(new jr(2))}}
                    @keyup=${t=>{const n=t;n.preventDefault();switch(n.key){case"ArrowUp":e(new jr(3));break;case"ArrowDown":e(new jr(4));break;case"Enter":e(new jr(5));break;case"Backspace":e(new jr(6,Er(n.target)));break;default:e(new jr(0,Er(n.target)))}}} />
            </div>

            ${Io(t,e)}
        </div>
        `)}));function Oo(t,e,n){return Sr(we`
        <button
            ?disabled=${n}
            class="px-6 h-12 font-semibold border-2 border-black dark:border-white rounded-md bg-teal-400 hover:bg-teal-500 active:bg-teal-200 disabled:text-gray-200 disabled:bg-gray-400 text-black"
            @click=${e}>
            ${t}
        </button>
        `)}class No extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["Initial","Loading","Errored"]}}class Po extends R{constructor(t,e,n){super(),this.UiState=t,this.SelectedMinutes=0|e,this.CommunityChoiceState=n}}class Ro extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["ChangeSelectedMinutes","CommunityChoiceCommand","LoadPosts","PostsLoaded","PostsErrored"]}}const Do=new Po(new No(0),5,ko);function Ao(t){return null!=t.CommunityChoiceState.SelectedCommunity&&""!==t.CommunityChoiceState.Input&&!v(t.UiState,new No(1))}function Go(t,e){const n=function(t,e){let n,r,o;switch(e.tag){case 1:return[t,Mo(t,t.Input)];case 2:return[_o(t),nn()];case 3:return[new $r(t.Input,t.SelectedCommunity,(n=t.SuggestionsSelectedIndex-1|0,Eo(0,$e(t.Suggestions)-1,n)),t.Suggestions),nn()];case 5:{const e=ze(t.SuggestionsSelectedIndex,t.Suggestions);return[t,null==e?nn():sn(new jr(9,e))]}case 6:return""===t.Input&&null!=t.SelectedCommunity?[new $r(t.Input,void 0,0,t.Suggestions),sn(new jr(0,""))]:[t,sn(new jr(0,e.fields[0]))];case 7:return[new $r(t.Input,t.SelectedCommunity,e.fields[0],t.Suggestions),nn()];case 4:return[new $r(t.Input,t.SelectedCommunity,(r=t.SuggestionsSelectedIndex+1|0,Eo(0,$e(t.Suggestions)-1,r)),t.Suggestions),nn()];case 8:return[new $r(t.Input,t.SelectedCommunity,t.SuggestionsSelectedIndex,e.fields[0]),nn()];case 9:return[(o=_o(t),new $r(o.Input,e.fields[0],o.SuggestionsSelectedIndex,o.Suggestions)),sn(new jr(0,""))];default:{const n=e.fields[0];return[new $r(n,t.SelectedCommunity,t.SuggestionsSelectedIndex,t.Suggestions),Mo(t,n)]}}}(t.CommunityChoiceState,e);return[new Po(t.UiState,t.SelectedMinutes,n[0]),rn((t=>new Ro(1,t)),n[1])]}function $o(t,e){if(1===e.tag)return 5===e.fields[0].tag?Ao(t)?[t,sn(new Ro(2))]:Go(t,new jr(5)):Go(t,e.fields[0]);if(2===e.tag)return[new Po(new No(1),t.SelectedMinutes,t.CommunityChoiceState),(n=e=>{var n;tn(Ye.Delay((()=>Ye.Bind(function(t){const e=xo(t.Subcommunity);return Ye.Delay((()=>Ye.Bind(e,(e=>{let n;const r=e;return Ye.Return(1===r.tag?new Ke(1,new Ar(1,r.fields[0])):(n=We((e=>""!==e.Content&&function(t){return~~(function(t){return t.Content.split(" ").length}(t)/200)}(e)<=t.AvailableMinutes),r.fields[0]),Ge(n)?new Ke(1,new Ar(0)):new Ke(0,n)))}))))}(function(t){return new Rr(ve(t.CommunityChoiceState.SelectedCommunity),t.CommunityChoiceState.Input,t.SelectedMinutes)}(t)),(t=>{const n=t;return e(1===n.tag?new Ro(4,n.fields[0]):new Ro(3,n.fields[0])),Ye.Zero()})))),n)},Ae(n))];if(3===e.tag)return[new Po(new No(0),t.SelectedMinutes,t.CommunityChoiceState),nn()];if(4===e.tag)return[new Po(new No(2,e.fields[0]),t.SelectedMinutes,t.CommunityChoiceState),nn()];{let n,r=0;return n=[et(e.fields[0],511,!1,32,new D((()=>r),(t=>{r=0|t}))),r],n[0]?[new Po(t.UiState,n[1],t.CommunityChoiceState),nn()]:[t,nn()]}var n}function jo(t,e){const n=!Ao(t),r=null==t.CommunityChoiceState.SelectedCommunity?"Choose a community":""===t.CommunityChoiceState.Input?"Enter a subcommunity":v(t.UiState,new No(1))?"Loading...":"Show me!";return Sr(we`
        <div class="flex flex-col m-10 sm:m-0 sm:items-center">
            <p class="text-2xl place-content-center">
                I have
                <input
                    class="inline-block w-12 border-b-2 border-gray-900 dark:border-white text-center focus:outline-none appearance-none bg-transparent placeholder-slate-400 pl-1"
                    placeholder="5"
                    type="number"
                    value=${t.SelectedMinutes}
                    @input=${t=>{e(new Ro(0,Er(t.target)))}} />
                minutes to read from
            </p>
            <div class="my-5 w-60 sm:w-96">
                ${To(t.CommunityChoiceState,(t=>{e(new Ro(1,t))}))}
            </div>

            ${Oo(r,(t=>{e(new Ro(2))}),n)}

            <div class="mt-10">
                ${function(t){const e=t.UiState;if(2===e.tag){const t=1===e.fields[0].tag?"We were unable to contact the community you provided. Maybe try again later.":"Your selection retrieved no results. Try a different community/subcommunity combination or increase the time limit.";return Sr(we`
            <p class="text-red-500 font-bold">${t}</p>
            `)}return Cr()}(t)}
            </div>
        `)}class Ho extends R{constructor(t,e){super(),this.Posts=t,this.CurrentPostIndex=0|e}}class Uo extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["PreviousPost","NextPost"]}}const Lo=new Ho(Re(),0);function qo(t,e){const n=ze(t.CurrentPostIndex,t.Posts);if(null==n)return Sr(we`
            <p class="text-red">Hmm, how did you get here? There's nothing to see.</p>
            `);{const r=n;return window.scrollTo(0,0),function(t,e,n){const r=i(se(/\n/gu,n.Content,"<br/>")),o=`${t.CurrentPostIndex+1} out of ${$e(t.Posts)}`,s=ze(t.CurrentPostIndex+1,t.Posts),u=null==ze(t.CurrentPostIndex-1,t.Posts),c=null==s;return Sr(we`
        <div class="flex flex-col mx-5 lg:mx-32 xl:mx-49 2xl:mx-96 mb-10">
            <h1 class="text-2xl font-bold">${n.Title}</h1>
            <div class="flex gap-x-5">
                <a target="_blank" href=${n.Url}>Open post</a>
                <a target="_blank" href=${n.CommunityUrl}>Open community</a>
            </div>

            <p class="mt-10 mb-5">${r}</p>

            <div class="flex gap-5 items-center">
                ${Oo("Previous post",(t=>{e(new Uo(0))}),u)}
                <p>${o}</p>
                ${Oo("Next post",(t=>{e(new Uo(1))}),c)}
            </div>
        </div>
        `)}(t,e,r)}}class Fo extends R{constructor(t,e,n){super(),this.CurrentScreen=t,this.HomeState=e,this.ReaderState=n}}class Bo extends P{constructor(t,...e){super(),this.tag=0|t,this.fields=e}cases(){return["HomeCommand","ReaderCommand"]}}const zo=Sr(we`
        <div class="text-4xl p-10 text-center sm:text-left font-medium underline underline-offset-4">
            <a id="header" href="./">Readder</a>
        </div>
        `),Wo=Sr(we`
        <footer class="flex items-start sm:justify-center flex-col sm:flex-row p-5 text-gray-600 dark:text-gray-400">
            <div class="sm:border-r-2 border-gray-700 pr-2">
                Made with ❤️ by Fran González (<a target="_blank" href="https://github.com/sleepyfran">@sleepyfran</a>)
            </div>
            <div class="sm:ml-2">
                <a target="_blank" href="https://github.com/sleepyfran/readder">Source code</a>
            </div>
        </footer>
        `);var Jo;vr(void 0,function(t,e){const n=document.getElementById(t);if(null==n)throw new Error(`Cannot find element with id ${t}`);return Tr(n,e)}("elmish-lit",new br((function(t){return[new Fo(new Or(0),Do,Lo),nn()]}),(function(t,e){if(1===t.tag){const n=function(t,e){return 1===e.tag?[new Ho(t.Posts,t.CurrentPostIndex+1),nn()]:[new Ho(t.Posts,t.CurrentPostIndex-1),nn()]}(e.ReaderState,t.fields[0]);return[new Fo(e.CurrentScreen,e.HomeState,n[0]),rn((t=>new Bo(1,t)),n[1])]}if(3===t.fields[0].tag)return[new Fo(new Or(1),e.HomeState,new Ho(t.fields[0].fields[0],e.ReaderState.CurrentPostIndex)),nn()];{const n=$o(e.HomeState,t.fields[0]);return[new Fo(e.CurrentScreen,n[0],e.ReaderState),rn((t=>new Bo(0,t)),n[1])]}}),(t=>nn()),Jo=function(t,e){const n=1===t.CurrentScreen.tag?qo(t.ReaderState,(t=>{e(new Bo(1,t))})):jo(t.HomeState,(t=>{e(new Bo(0,t))}));return Sr(we`
        <div class="flex flex-col min-h-screen w-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-200">
            ${zo}
            <main class="flex-grow">
                ${n}
            </main>
            ${Wo}
        </div>
        `)},_(2,(t=>{const e=O(1,Jo,[t]);return t=>{e(t)}})),(t=>{var e,n;e=t[0],n=t[1],console.error(be(e),n)}),_(2,(t=>t)))));
